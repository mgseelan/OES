<div class="container">
<div>
<!-- <div class="col-md-12 col-sm-12 col-xs-12 start-section" ng-if="!showOnboard">
	<h2>Welcome!</h2>
	<p>We help you to onboard in few steps.</p>	
	<button class="btn common-btn" ng-click="startOnBoard()">Lets Start</button>    
</div>  -->
   <div class="opsmx-loader" ng-show="opsmxLoader" style="margin-top: 100px;">
		<div class="opsmx-loader-circle" ></div>
		<!-- <span class="opsmx-loader-text" >processing</span> -->
	</div>
	<div class="stepwizard" >
	    <div class="stepwizard-row setup-panel" >
	    	<div class="stepwizard-step">
	        	<a href="#step-1" type="button" class="btn circle-sucess-button btn-circle">1</a>	       
	      	</div>
	      	<div class="stepwizard-step">
	        	<a href="#step-2" type="button" class="btn btn-default btn-circle" disabled="disabled">2</a>	       
	      	</div>
	      	<div class="stepwizard-step">
	        	<a href="#step-3" type="button" class="btn btn-default btn-circle" disabled="disabled">3</a>	        
	      	</div>
	        <div class="stepwizard-step">
	         	<a href="#step-4" type="button" class="btn btn-default btn-circle" disabled="disabled">4</a>	        
	        </div>
	    </div>
    </div> 
  
  	<form name="form" ng-submit="submitStep1(this)" >
    	<div class="setup-content" id="step-1">
      		<div class="col-xs-6 col-md-offset-3 mt50">
        		<div class="col-md-12">
        			<div>
 						<div class="rep-error-message" ng-if="finalStatus.status == 'failure'">{{finalDependencyMessage}}</div>
						<div class="rep-success-message" ng-if="finalStatus.status == 'success'">{{finalDependencyMessage}}</div>
					</div>
					<h5 style="margin-bottom: 30px;">Check Dependency before starting the deployment of Spinnaker</h5>         			 
          
          			<button type="button" class="btn common-btn btn-md"  ng-click="dependencyCheck()">Dependency Check</button> 
          			<button type="submit" class="btn common-btn nextBtn btn-md pull-right" ng-disabled="isDisabled" ng-model="isDisabled">Next</button>
        		</div>
      		</div>
    	</div>
    </form>
    <form name="step2" ng-submit="submitStep2(this)">
    <div class="setup-content" id="step-2">
      <div class="col-xs-6 col-md-offset-3 mt50">
        <div class="col-md-12">
          <div class="form-group">
            <label class="control-label">Choose platform to deploy spinnaker</label> 
           	<select class="form-control" class="col-md-6 col-sm-6 col-xs-6 rep-select"
												ng-options="p.option as p.option for p in platForms"
												ng-model="platFormType" required >
												<option ng-disabled="true" value="">Platform</option>
											</select> 
		  </div>
			<div class="form-group">
            <label class="control-label">Choose spinnaker version</label> 
           <select class="form-control" class="col-md-6 col-sm-6 col-xs-6 rep-select"
												ng-options="p.option as p.option for p in spinnakerVersions"
												ng-model="spinnakerVersion" required="required" >
												<option ng-disabled="true" value="">Version</option>
											</select>
			</div>
          
          <button class="btn common-btn nextBtn btn-md pull-right" type="submit">Next</button>
        </div>
      </div>
    </div>
    </form>
    <form name="step3" ng-submit="submitStep3(this)">
    <div class="setup-content" id="step-3">
      <div class="col-xs-6 col-md-offset-3 mt50">
        <div class="col-md-12">
          <h3>Minio set up details:</h3>
          <div class="form-group">
            <label class="control-label">Access Key ID </label>
            <input maxlength="200" required="required" ng-model="accessKey" class="form-control" placeholder="Access Key ID" type="text">
          </div>
          <div class="form-group">
            <label class="control-label">Secret Access Key  </label>
            <input maxlength="200" required="required" ng-model="secretAccessKey" class="form-control" placeholder="Secret Access Key" type="text">
          </div>
          <div class="form-group">
            <label class="control-label">Size </label>
            <input maxlength="3" required="required" class="form-control" ng-model="size" placeholder="Size" type="text">
          </div>
          <!-- <button class="btn common-btn prevBtn btn-md pull-left" type="button">Previous</button> -->
          <button class="btn common-btn nextBtn btn-md pull-right" type="submit">Next</button>
        </div>
      </div>
    </div>
    </form>
    <form name="step4" ng-submit="submitStep4(this)">
    <div class="setup-content" id="step-4">
      <div class="col-xs-6 col-md-offset-3 mt50">
     <!--  <div ng-show="showMessage">
		<div class="rep-success-message">
		{{successMessage}}</div>
	</div> -->
	 
        <div class="col-md-12">
         <div>
 <div class="rep-error-message" ng-if="finalMessage.status == 'failure'">{{finalMessage.message}}</div>
<div class="rep-success-message" ng-if="finalMessage.status == 'success'">{{finalMessage.message}}</div>
</div>
          <h3> Step 4</h3>
         
			<div class="form-group">
            <label class="control-label">Path of Kube config file </label>
            <input maxlength="200" required="required" ng-model="path" class="form-control" placeholder="Path of Kube config file" type="text">
          </div>
          <div class="form-group">
            <label class="control-label">Namespace to deploy spinnaker services</label>
            <input maxlength="200" required="required" ng-model="nameSpace" class="form-control" placeholder="Namespace to deploy spinnaker services" type="text">
          </div>
          <div class="form-group">
            <label class="control-label">Docker registry/username </label>
            <input maxlength="200" required="required" ng-model="dockerUsername" class="form-control" placeholder="Docker username" type="text">
          </div>
          <div class="form-group">
            <label class="control-label">Spinnaker V2 Account Name </label>
            <input maxlength="200" required="required" ng-model="spinnakerV2AccountName" class="form-control" placeholder="Spinnaker V2 Account Name" type="text">
          </div>
          <!-- <button class="btn common-btn prevBtn btn-md pull-left" type="button">Previous</button> -->
          <button class="btn common-btn btn-md pull-right" type="submit" >Submit</button>
        </div>
      </div>
    </div>
  </form>
 </div>
</div>
 
<script>
$(document).ready(function () {

    var navListItems = $('div.setup-panel div a'),
        allWells = $('.setup-content'),
        allNextBtn = $('.nextBtn');

    allWells.hide();

    navListItems.click(function (e) {
        e.preventDefault();
        var $target = $($(this).attr('href')),
            $item = $(this);

        if (!$item.hasClass('disabled')) {
            navListItems.removeClass('circle-sucess-button').addClass('btn-default');
            $item.addClass('circle-sucess-button');
            allWells.hide();
            $target.show();
            $target.find('input:eq(0)').focus();
        }
    });    

    allNextBtn.click(function () {
        var curStep = $(this).closest(".setup-content"),
            curStepBtn = curStep.attr("id"),
            nextStepWizard = $('div.setup-panel div a[href="#' + curStepBtn + '"]').parent().next().children("a"),
            curInputs = curStep.find("input[type='text'],input[type='url']"),
            isValid = true;

        $(".form-group").removeClass("has-error");
        for (var i = 0; i < curInputs.length; i++) {
            if (!curInputs[i].validity.valid) {
                isValid = false;
                $(curInputs[i]).closest(".form-group").addClass("has-error");
            }
        }

        if (isValid) nextStepWizard.removeAttr('disabled').trigger('click');
    });

    $('div.setup-panel div a.circle-sucess-button').trigger('click');
});
</script>
